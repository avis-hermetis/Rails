<p id="notice"><%= notice %></p>

<p>
  <strong>Маршрут:</strong>
  <%= @route.title %>  
</p>

<p>
  <strong>Поезда на маршруте: </strong> <br>
    <% if @route.trains.present? %>
      <% @route.trains.each do |train| %>
      <%= train.number %>       
      <br>     
      <% end %>
    <% else %>  
      На маршруте нет поездов
      <% end %> 
</p>

<p>
  <strong>Список станций в маршруте: </strong> 
    <% if @route.railway_stations.empty? %>
      Список пуст
      <% else %>
      <table>
        <thead>
        <tr>
          <td width="100pxs">Название </td>
          <td width="100pxs">Позиция</td>
          <td width="100pxs">Время убытия</td>
          <td width="100pxs">Время прибытия</td>          
        <tr>
        </thead>
        <tbody>
          <% @route.railway_stations.ordered.each do |station| %>
          <tr>
            <td><%= station.title %></td>
            <td>
            <%= form_tag update_position_and_time_railway_station_path(station), method: :patch do %>              
              <%= number_field_tag :position, station.position_in(@route) %>
            </td>
            <td>
              <%= text_field_tag :start_time, station.start_time_in(@route) %>
            </td>
            <td>
              <%= text_field_tag :end_time, station.end_time_in(@route) %>
            </td>
            <td>
              <%= hidden_field_tag :route_id, @route.id %>
              <%= submit_tag "Изменить" %>
            <% end %> 
           </td>
          </tr>
          <% end %>
        </tbody>
      </table>
    <% end %>
</p>
      
    

    

<%= link_to 'Редактировать', edit_route_path(@route) %> |
<%= link_to 'Назад', routes_path %>
